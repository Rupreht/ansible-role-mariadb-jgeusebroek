---
ansible:
  playbook: tests/molecule_playbook.yml
  host_vars:
    centos7:
      mariadb_galera_role: primary
      mariadb_galera_primary: localhost
    debian8:
      mariadb_galera_role: nonprimary
      mariadb_galera_primary: centos7
    ubuntu1604:
      mariadb_galera_role: nonprimary
      mariadb_galera_primary: centos7
  ansiblecfg_defaults:
    retry_files_enabled: False
dependency:
  name: galaxy
driver:
  name: docker
docker:
  containers:
    - name: centos7
      image: jgeusebroek/centos7-molecule
      image_version: latest
      privileged: true
      command: /lib/systemd/systemd
      volume_mounts:
        - '/sys/fs/cgroup:/sys/fs/cgroup:ro'
      ansible_groups:
        - redhat
      # port_bindings:
      #   3306: 3306
      #   4567: 4567
      #   4568: 4568
      #   4444: 4444
    - name: debian8
      image: jgeusebroek/debian8-molecule
      image_version: latest
      privileged: true
      command: /lib/systemd/systemd
      volume_mounts:
        - '/sys/fs/cgroup:/sys/fs/cgroup:ro'
      ansible_groups:
        - debian
      links:
        centos7: centos7
    - name: ubuntu1604
      image: jgeusebroek/ubuntu1604-molecule
      image_version: latest
      privileged: true
      command: /lib/systemd/systemd
      volume_mounts:
        - '/sys/fs/cgroup:/sys/fs/cgroup:ro'
      ansible_groups:
        - ubuntu
      links:
        centos7: centos7
verifier:
  name: testinfra
